/**
 * Mobile-specific CSS optimizations
 * This file contains styles that only apply to mobile devices
 * It's loaded conditionally via the MobileOptimizer component
 */

/* Prevent text size adjustment on orientation change */
html {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* Improve touch targets */
button, a, input, select, textarea {
  touch-action: manipulation;
}

/* Prevent overflow issues */
body {
  overflow-x: hidden;
  width: 100%;
}

/* Prevent content from being hidden under fixed headers */
main {
  padding-top: env(safe-area-inset-top, 0);
  padding-bottom: env(safe-area-inset-bottom, 0);
}

/* Optimize scrolling performance */
* {
  -webkit-overflow-scrolling: touch;
}

/* Improve button text alignment */
button span {
  display: inline-block;
  vertical-align: middle;
}

/* Fix text truncation */
.truncate-text {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

/* Prevent text from bleeding outside containers */
.text-container {
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* Optimize images */
img {
  max-width: 100%;
  height: auto;
}

/* Fix button alignment */
.button-container {
  display: flex;
  justify-content: center;
  width: 100%;
}

/* Optimize animations for better performance */
.will-change-transform {
  will-change: transform;
}

.will-change-opacity {
  will-change: opacity;
}

/* Reduce animation complexity on mobile */
@media (max-width: 767px) {
  .animate-fadeSlideUp {
    animation-duration: 0.3s !important;
  }

  .animate-fadeIn {
    animation-duration: 0.2s !important;
  }

  /* Disable hover effects that might cause performance issues */
  .hover\:shadow-lg:hover {
    box-shadow: none !important;
  }

  /* Simplify transitions */
  .transition-all {
    transition-property: transform, opacity !important;
    transition-duration: 0.2s !important;
  }
}

/* Fix for buttons with text overflow */
.mobile-button {
  display: flex;
  align-items: center;
  justify-content: center;
}

.mobile-button span {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Fix for cards with text overflow */
.mobile-card {
  word-break: break-word;
}

.mobile-card h3,
.mobile-card p {
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Optimize fixed elements */
.fixed {
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  transform: translateZ(0);
}

/* Prevent tap highlight on mobile */
* {
  -webkit-tap-highlight-color: transparent;
}

/* Fix for mobile menu positioning */
@media (max-width: 767px) {
  /* Ensure mobile menu is always at the top of the screen */
  .mobile-menu-overlay {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    z-index: 9999 !important;
    display: flex !important;
    flex-direction: column !important;
    background-color: rgba(0, 0, 0, 0.95) !important;
  }

  /* Ensure menu items are visible */
  .mobile-menu-item {
    width: 100% !important;
    text-align: center !important;
    padding: 1rem 0 !important;
    margin: 0.5rem 0 !important;
  }

  /* Prevent scrolling when mobile menu is open */
  body.mobile-menu-open {
    overflow: hidden !important;
    position: fixed !important;
    width: 100% !important;
    height: 100% !important;
  }

  /* Fix spacing for mobile events hero section */
  .events-hero-mobile {
    padding-top: 0 !important; /* Remove padding at the top */
  }

  .events-hero-mobile h1 {
    margin-top: 2rem !important; /* Add margin to push heading down */
    font-size: 1.5rem !important; /* Slightly reduce font size */
  }

  .events-hero-mobile .gold-bar {
    margin: 1rem auto 1.5rem !important; /* Increase spacing around gold bar */
  }

  .events-hero-mobile p {
    max-width: 90% !important; /* Ensure text doesn't overflow */
    margin: 0 auto !important;
  }

  /* Mobile footer optimizations */
  footer {
    text-align: center !important;
  }

  footer .container {
    padding: 0 1rem !important;
  }

  footer a {
    display: inline-block !important;
    padding: 0.5rem 0 !important;
    font-size: 0.75rem !important;
  }

  footer p {
    font-size: 0.75rem !important;
    margin: 0 !important;
    line-height: 1.5 !important;
  }
}
