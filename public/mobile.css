/**
 * Mobile-specific CSS optimizations
 * This file contains styles that only apply to mobile devices
 * It's loaded dynamically via the MobileClassProvider component
 */

/* Apply styles only to mobile devices */
html.mobile-device {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* Prevent text size adjustment on orientation change */
html.mobile-device {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* Improve touch targets */
html.mobile-device button,
html.mobile-device a,
html.mobile-device input,
html.mobile-device select,
html.mobile-device textarea {
  touch-action: manipulation;
}

/* Prevent overflow issues */
html.mobile-device body {
  overflow-x: hidden;
  width: 100%;
}

/* Prevent content from being hidden under fixed headers */
html.mobile-device main {
  padding-top: env(safe-area-inset-top, 0);
  padding-bottom: env(safe-area-inset-bottom, 0);
}

/* Optimize scrolling performance */
html.mobile-device * {
  -webkit-overflow-scrolling: touch;
}

/* Improve button text alignment */
html.mobile-device button span {
  display: inline-block;
  vertical-align: middle;
}

/* Fix text truncation */
html.mobile-device .truncate-text {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

/* Prevent text from bleeding outside containers */
html.mobile-device .text-container {
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* Optimize images */
html.mobile-device img {
  max-width: 100%;
  height: auto;
}

/* Fix button alignment */
html.mobile-device .button-container {
  display: flex;
  justify-content: center;
  width: 100%;
}

/* Optimize animations for better performance */
html.mobile-device .will-change-transform {
  will-change: transform;
}

html.mobile-device .will-change-opacity {
  will-change: opacity;
}

/* Reduce animation complexity on mobile */
@media (max-width: 767px) {
  html.mobile-device .animate-fadeSlideUp {
    animation-duration: 0.3s !important;
  }

  html.mobile-device .animate-fadeIn {
    animation-duration: 0.2s !important;
  }

  /* Disable hover effects that might cause performance issues */
  html.mobile-device .hover\:shadow-lg:hover {
    box-shadow: none !important;
  }

  /* Disable button hover effects on mobile */
  html.mobile-device button:hover,
  html.mobile-device a:hover {
    background-color: initial !important;
    color: initial !important;
  }

  /* Ensure no hover animations on mobile */
  html.mobile-device .group-hover\:translate-x-0,
  html.mobile-device .group:hover .transform,
  html.mobile-device .transform.-translate-x-full {
    transform: translateX(-100%) !important;
  }

  /* Prevent color changes on hover for mobile */
  html.mobile-device .group:hover span,
  html.mobile-device .group-hover\:text-black {
    color: inherit !important;
  }

  /* Completely hide gold fill animation elements on mobile */
  html.mobile-device .absolute.inset-0.rounded-full.bg-\[\#E6C78B\],
  html.mobile-device span[class*="bg-[#E6C78B]"] {
    display: none !important;
  }

  /* Disable all hover effects on mobile */
  @media (hover: none) {
    .group:hover .transform,
    .group-hover\:translate-x-0,
    .hover\:bg-\[\#0A1A2A\]:hover,
    .hover\:bg-white\/10:hover,
    .hover\:shadow-lg:hover {
      all: unset !important;
    }
  }

  /* Simplify transitions */
  html.mobile-device .transition-all {
    transition-property: transform, opacity !important;
    transition-duration: 0.2s !important;
  }
}

/* Fix for buttons with text overflow */
html.mobile-device .mobile-button {
  display: flex;
  align-items: center;
  justify-content: center;
}

html.mobile-device .mobile-button span {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Fix for cards with text overflow */
html.mobile-device .mobile-card {
  word-break: break-word;
}

html.mobile-device .mobile-card h3,
html.mobile-device .mobile-card p {
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Optimize fixed elements */
html.mobile-device .fixed {
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  transform: translateZ(0);
}

/* Prevent tap highlight on mobile */
html.mobile-device * {
  -webkit-tap-highlight-color: transparent;
}

/* Fix for mobile menu positioning */
@media (max-width: 767px) {
  /* Ensure mobile menu is always at the top of the screen */
  html.mobile-device .mobile-menu-overlay {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    z-index: 9999 !important;
    display: flex !important;
    flex-direction: column !important;
    background-color: rgba(0, 0, 0, 0.95) !important;
  }

  /* Ensure menu items are visible */
  html.mobile-device .mobile-menu-item {
    width: 100% !important;
    text-align: center !important;
    padding: 1rem 0 !important;
    margin: 0.5rem 0 !important;
  }

  /* Prevent scrolling when mobile menu is open */
  html.mobile-device body.mobile-menu-open {
    overflow: hidden !important;
    position: fixed !important;
    width: 100% !important;
    height: 100% !important;
  }

  /* Fix spacing for mobile events hero section */
  html.mobile-device .events-hero-mobile {
    padding-top: 80px !important; /* Add extra padding at the top */
  }

  html.mobile-device .events-hero-mobile h1 {
    margin-top: 2rem !important; /* Add margin to push heading down */
    font-size: 1.5rem !important; /* Slightly reduce font size */
  }

  html.mobile-device .events-hero-mobile .gold-bar {
    margin: 1rem auto 1.5rem !important; /* Increase spacing around gold bar */
  }

  html.mobile-device .events-hero-mobile p {
    max-width: 90% !important; /* Ensure text doesn't overflow */
    margin: 0 auto !important;
  }

  /* Mobile footer optimizations */
  html.mobile-device footer {
    text-align: center !important;
  }

  html.mobile-device footer .container {
    padding: 0 1rem !important;
  }

  html.mobile-device footer a {
    display: inline-block !important;
    padding: 0.5rem 0 !important;
    font-size: 0.75rem !important;
  }

  html.mobile-device footer p {
    font-size: 0.75rem !important;
    margin: 0 !important;
    line-height: 1.5 !important;
  }
}
